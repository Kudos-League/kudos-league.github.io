<!doctype html>
<html lang="en">
    <script>
      (function () {
        try {
          var stored = localStorage.getItem('theme');
          var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          var theme = (stored === 'light' || stored === 'dark') ? stored : (prefersDark ? 'dark' : 'light');

          var root = document.documentElement;
          root.classList.toggle('dark', theme === 'dark');
          root.style.colorScheme = theme;

          window.__theme = theme;
        } catch (error) {
          console.error('Error setting theme', error);
        }
      })();
    </script>

    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="theme-color" content="#000000" />
        <meta name="color-scheme" content="light dark">
        <meta
            name="description"
            content="Web site created using create-react-app"
        />
        <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
        <meta
          http-equiv="Content-Security-Policy"
          content="
            default-src 'self';
            img-src 'self' data: blob: http://localhost:* https://maps.googleapis.com https://maps.gstatic.com https://lh3.googleusercontent.com https://kudos-dev.nyc3.cdn.digitaloceanspaces.com https://kudos-live.nyc3.cdn.digitaloceanspaces.com https://api-dev.kudosleague.org https://api.kudosleague.org https://cdn.discordapp.com;
            font-src 'self' data: https://fonts.gstatic.com;
            style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
            script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com https://maps.googleapis.com;
            frame-src https://js.stripe.com;
            connect-src 'self' ws://localhost:* http://localhost:* https://api-dev.kudosleague.org https://api.kudosleague.org https://maps.googleapis.com https://api.stripe.com https://ipapi.co wss://api-dev.kudosleague.org wss://api.kudosleague.org;
          "
        >
        <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
        <title>Kudos League</title>
    </head>
    <body class="h-full bg-white dark:bg-gray-900">
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="root"></div>
    </body>
</html>
